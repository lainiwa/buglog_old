[flake8]
max-line-length = 79

ignore =
    # Conflicts with FastAPI routes declaration practices.
    #
    # (flake8-bugbear):
    # Do not perform function calls in argument defaults.
    # The call is performed only once at function definition time.
    # All calls to your function will reuse
    # the result of that definition-time function call.
    # If this is intended, assign the function call to a module-level
    # variable and use that variable as a default value.
    B008,

    # False positive on pytest tests.
    #
    # (flake8-bugbear):
    # Use of assert detected. The enclosed code will be removed when
    # compiling to optimised byte code.
    S101,

    # Not a bad practice: variable name acts as a comment.
    #
    # (flake8-pie):
    # You are assigning to a variable and then returning.
    # Instead remove the assignment and return.
    PIE781,


exclude =
    # No need to traverse our git directory
    .git,

    # There's no value in checking cache directories
    __pycache__,

    # The conf file is mostly autogenerated, ignore it
    docs/source/conf.py,

    # This contains our built documentation
    build,


# (flake8-cognitive-complexity):
max_cognitive_complexity = 3

# (flake8-functions):
max_function_length = 20

# (flake8-expression-complexity):
max_expression_complexity = 6

# (flake8-class-attributes-order):
use_class_attributes_order_strict_mode = True

# (flake8-annotations-complexity):
max_annotations_complexity = 3
